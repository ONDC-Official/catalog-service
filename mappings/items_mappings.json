{
  "mappings": {
    "dynamic_templates": [
      {
        "strings_as_keywords": {
          "match_mapping_type": "string",
          "mapping": {
            "type": "keyword",
            "index": false
          }
        }
      },
      {
        "booleans_as_booleans_without_index": {
          "match_mapping_type": "boolean",
          "mapping": {
            "type": "boolean",
            "index": false
          }
        }
      },
      {
        "dates_as_keywords": {
          "match_mapping_type": "date",
          "mapping": {
            "type": "keyword",
            "index": false
          }
        }
      }
    ],
    "properties": {
      "language": {"type": "keyword"},
      "context": {
        "properties": {
          "domain": {"type": "keyword"},
          "country": {"type": "keyword"},
          "city": {"type": "keyword"},
          "action": {"type": "keyword"},
          "bpp_id": {"type": "keyword"},
          "transaction_id": {"type": "keyword"},
          "message_id": {"type": "keyword"}
        }
      },
      "attribute_key_values": {
        "type": "nested",
        "properties": {
          "key": {
            "type": "keyword"
          },
          "value": {
            "type": "keyword"
          }
        }
      },
      "item_details": {
        "properties": {
          "id": {"type": "keyword"},
          "parent_item_id": {"type": "keyword"},
          "descriptor": {
            "properties": {
              "name": {"type": "text"},
              "code": {"type": "keyword"}
            }
          },
          "price": {
            "properties": {
              "value": {"type": "float"}
            }
          },
          "category_id": {"type": "keyword"},
          "fulfillment_id": {"type": "keyword"},
          "location_id": {"type": "keyword"}
        }
      },
      "provider_details": {
        "properties": {
          "id": {"type": "keyword"},
          "descriptor": {
            "properties": {
              "name": {"type": "text"}
            }
          }
        }
      },
      "location_details": {
        "properties": {
          "id": {"type": "keyword"},
          "gps": {"type": "geo_point"},
          "circle": {
            "properties": {
              "gps": {
                "type": "geo_point",
                "doc_values": true
              }
            }
          },
          "median_time_to_ship": {
            "type": "float",
            "doc_values": true
          },
          "type": {"type": "keyword"},
          "polygons": {"type": "geo_shape"}
        }
      },
      "bpp_details": {
        "properties": {
          "name": {"type": "text"},
          "bpp_id": {"type": "keyword"}
        }
      },
      "type": {"type": "keyword"},
      "created_at": {"type": "date"},
      "local_id": {"type": "keyword"},
      "id": {"type": "keyword"},
      "variant_group": {
        "properties": {
          "id": {"type": "keyword"},
          "attribute_codes": {"type": "keyword"}
        }
      },
      "customisation_groups": {
        "type": "nested",
        "properties": {
          "id": {
            "type": "keyword"
          },
          "local_id": {
            "type": "keyword"
          }
        }
      },
      "customisation_menus": {
        "type": "nested",
        "properties": {
          "descriptor": {
            "properties": {
              "name": {
                "type": "text"
              }
            }
          },
          "id": {
            "type": "keyword"
          },
          "local_id": {
            "type": "keyword"
          },
          "parent_category_id": {
            "type": "keyword"
          }
        }
      },
      "customisation_group_id": {"type": "keyword"},
      "customisation_nested_group_id": {"type": "keyword"},
      "is_first": {"type": "boolean"},

      "provider_flag": {"type": "boolean"},
      "item_flag": {"type": "boolean"},
      "seller_flag": {"type": "boolean"},

      "manual_provider_flag": {"type": "boolean"},
      "manual_item_flag": {"type": "boolean"},
      "manual_seller_flag": {"type": "boolean"},

      "auto_provider_flag": {"type": "boolean"},
      "auto_item_flag": {"type": "boolean"},
      "auto_seller_flag": {"type": "boolean"},

      "provider_error_tags": {
        "type": "nested",
        "properties": {
          "code": {
            "type": "keyword"
          }
        }
      },
      "item_error_tags": {
        "type": "nested",
        "properties": {
          "code": {
            "type": "keyword"
          }
        }
      },
      "seller_error_tags": {
        "type": "nested",
        "properties": {
          "code": {
            "type": "keyword"
          }
        }
      }
    }
  }
}
